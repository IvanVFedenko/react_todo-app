(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(19)},17:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(9),c=a.n(l),r=(a(17),a(18),a(7)),i=a(10),d=a(1),s=a(2),u=a(4),m=a(3),h=a(5),p=a(6),f=a.n(p),g=function(e){var t=e.handleFilter,a=e.activeFilter,n=e.todos,l=e.handleTodoDeleteCompleted,c=n.filter(function(e){return!e.completed}).length,r=n.filter(function(e){return e.completed});return o.a.createElement("footer",{className:"footer",style:{display:"block"}},o.a.createElement("span",{className:"todo-count"},c," items left"),o.a.createElement("ul",{className:"filters"},o.a.createElement("li",null,o.a.createElement("a",{href:"#/",className:f()({selected:"all"===a}),name:"all",onClick:t},"All")),o.a.createElement("li",null,o.a.createElement("a",{href:"#/active",className:f()({selected:"active"===a}),name:"active",onClick:t},"Active")),o.a.createElement("li",null,o.a.createElement("a",{href:"#/completed",className:f()({selected:"completed"===a}),name:"completed",onClick:t},"Completed")),o.a.createElement("li",{className:f()({hidden:0===r.length,selected:r.length>0,"clear-completed":!0})},o.a.createElement("a",{href:"#/deleted",className:f()({selected:"deleted"===a}),name:"deleted",onClick:function(){return l(r)}},"Clear completed"))),o.a.createElement("button",{type:"button",className:"clear-completed",style:{display:"block"}}))},E=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={text:a.props.todo.text,isEditing:!1},a.handleTodoInput=function(e){a.setState({text:e.target.value.replace(/[^ \w\u0430-\u044f\u0410-\u042f\u0406\u0456\u0407\u0457\u0401\u0451]/g,"")})},a.changeEditModeByKey=function(e){"Enter"===e.key&&a.setState({isEditing:!1})},a.changeEditMode=function(){a.setState(function(e){return{isEditing:!e.isEditing}})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.todo,n=t.handleDelete,l=t.handleComplete;return o.a.createElement("ul",{className:"todo-list"},o.a.createElement("li",{className:a.completed?"completed":"editing"},o.a.createElement("div",{className:"view"},o.a.createElement("input",{type:"checkbox",className:"toggle",id:a.id,onChange:function(){return l(a.id)},checked:a.completed}),this.state.isEditing?o.a.createElement("input",{type:"text",className:"edit",value:this.state.text,onChange:this.handleTodoInput,onKeyPress:this.changeEditModeByKey,autoFocus:!0,ref:this.inputRef,onBlur:this.changeEditMode}):o.a.createElement("label",{htmlFor:"todo",onDoubleClick:function(){return e.setState({isEditing:!0})}},this.state.text),o.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return n(a.id)}}))))}}]),t}(o.a.Component),v=function(e){var t=e.displayedTodos,a=e.handleTodoDelete,n=e.handleComplete,l=e.handleCompleteAll;return o.a.createElement("section",{className:"main",style:{display:"block"}},o.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",onClick:l}),o.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),t.map(function(e){return o.a.createElement(E,{todo:e,key:e.id+1,handleDelete:a,handleComplete:n})}))},y=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={text:"",errorsList:""},a.handleTodoInput=function(e){a.setState({text:e.target.value.replace(/[^ \w\u0430-\u044f\u0410-\u042f\u0406\u0456\u0407\u0457\u0401\u0451]/g,""),errorsList:!1})},a.handleTodoAdd=function(e){var t=a.props.handleTodoAdd,n=a.state.errorsList;"Enter"===e.key&&(e.preventDefault(),a.setState(function(e){if(e.text||(n=!0),n)return{errorsList:n};t({text:a.state.text,id:Date.now(),completed:!1})}),a.resetState())},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"resetState",value:function(){this.setState({text:""})}},{key:"render",value:function(){var e=this.state.errorsList;return o.a.createElement("form",null,o.a.createElement("input",{className:"new-todo",placeholder:e?"Enter the todo first":"What needs to be done?",value:this.state.text,onChange:this.handleTodoInput,onKeyPress:this.handleTodoAdd}))}}]),t}(o.a.Component),b=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={todos:[],activeFilter:"all"},a.handleTodoAdd=function(e){a.setState(function(t){return{todos:[e].concat(Object(i.a)(t.todos))}})},a.handleTodoDelete=function(e){a.setState({todos:a.state.todos.filter(function(t){return t.id!==e})})},a.handleTodoDeleteCompleted=function(e){a.setState({todos:a.state.todos.filter(function(t){return t.completed===!e})})},a.handleToggleCompleting=function(e){a.setState(function(t){return{todos:t.todos.map(function(t){return t.id!==e?t:Object(r.a)({},t,{completed:!t.completed})})}})},a.handleToggleCompletingAll=function(){a.setState(function(e){return e.todos.every(function(e){return e.completed})?{todos:e.todos.map(function(e){return Object(r.a)({},e,{completed:!e.completed})})}:{todos:e.todos.map(function(e){return Object(r.a)({},e,{completed:!0})})}})},a.handleFilter=function(e){a.setState({activeFilter:e.target.name})},a.filterTodos=function(e){var t=a.state.todos;return"active"===e?t.filter(function(e){return!1===e.completed}):"completed"===e?t.filter(function(e){return!0===e.completed}):t},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("todos"));e&&this.setState({todos:e})}},{key:"componentDidUpdate",value:function(e){e.todos!==this.state.todos&&this.saveToLocalStorage()}},{key:"saveToLocalStorage",value:function(){var e=JSON.stringify(this.state.todos);localStorage.setItem("todos",e)}},{key:"render",value:function(){var e=this.state.activeFilter,t=this.filterTodos(e);return o.a.createElement("section",{className:"todoapp"},o.a.createElement("header",{className:"header"},o.a.createElement("h1",null,"todos")),o.a.createElement(y,{handleTodoAdd:this.handleTodoAdd}),o.a.createElement(v,{handleTodoDelete:this.handleTodoDelete,handleComplete:this.handleToggleCompleting,handleCompleteAll:this.handleToggleCompletingAll,handleEdit:this.handleEdit,displayedTodos:t}),o.a.createElement(g,{handleFilter:this.handleFilter,activeFilter:e,todos:t,handleTodoDeleteCompleted:this.handleTodoDeleteCompleted}))}}]),t}(o.a.Component);c.a.render(o.a.createElement(b,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.f481beee.chunk.js.map